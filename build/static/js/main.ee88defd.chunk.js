(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{116:function(e,t,a){},202:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(16),i=a.n(n),r=(a(116),a(6)),o=a(235),l=a(46),j=a.n(l),d=(a(196),a(66),j.a.initializeApp({apiKey:"AIzaSyA66VCBovMQx9eJlFN-ppsPiWAWvCrGwhw",authDomain:"claps-bp.firebaseapp.com",projectId:"claps-bp",storageBucket:"claps-bp.appspot.com",messagingSenderId:"544675012413",appId:"1:544675012413:web:53ce05ec5e44a315466f54"})),p=d.firestore(),u=d.auth(),m=d.storage(),b=a(229),h=a(232),O=a(1);function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var g=Object(b.a)((function(e){return{paper:{position:"absolute",width:400,overflowY:"scroll",backgroundColor:e.palette.background.paper,border:"0px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),f=Object(b.a)((function(e){return{paper:{position:"absolute",width:700,overflowY:"scroll",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"0px"}}})),v=function(e){var t=e.id,a=e.user,n=e.like,i=e.userName,l=e.Caption,j=e.image,d=e.comments,u=c.a.useState(x),m=Object(r.a)(u,1)[0],b=Object(s.useState)(!1),v=Object(r.a)(b,2),N=v[0],y=v[1],C=Object(s.useState)(!1),_=Object(r.a)(C,2),w=_[0],S=_[1],k=Object(s.useState)(""),F=Object(r.a)(k,2),I=F[0],P=F[1],A=g(),E=f();return Object(O.jsxs)("div",{className:"post",children:[Object(O.jsx)(h.a,{open:N,onClose:function(){return y(!1)},children:Object(O.jsxs)("div",{style:m,className:A.paper,children:[Object(O.jsx)("center",{id:"likers_head",children:"Likes"}),n.map((function(e){return Object(O.jsxs)("div",{className:"post_header",children:[Object(O.jsx)(o.a,{alt:e,style:{height:"35px",width:"35px",fontSize:"18px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("h3",{children:e})]})}))]})}),Object(O.jsx)(h.a,{open:w,onClose:function(){return S(!1)},children:Object(O.jsx)("div",{style:m,className:E.paper,children:Object(O.jsxs)("div",{className:"pil",children:[Object(O.jsx)("div",{className:"second",children:Object(O.jsx)("img",{src:j,width:"100%"})}),Object(O.jsxs)("div",{className:"second",children:[Object(O.jsxs)("div",{className:"post_header",children:[Object(O.jsx)(o.a,{alt:i,style:{height:"35px",width:"35px",fontSize:"18px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("h3",{children:i})]}),d.map((function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"post_header2",children:[Object(O.jsx)(o.a,{alt:e.commenter,style:{height:"25px",width:"25px",fontSize:"10px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("b",{children:e.commenter}),"  \xa0",Object(O.jsx)("p",{children:e.text})]})})}))]})]})})}),Object(O.jsxs)("div",{className:"post_header",children:[Object(O.jsx)(o.a,{alt:i,style:{height:"35px",width:"35px",fontSize:"18px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("h3",{children:i})]}),Object(O.jsx)("img",{src:j,alt:"",className:"image_post"}),n.includes(a)?Object(O.jsx)("i",{id:"heart-2",onClick:function(){p.collection("posts").doc(t).get().then((function(e){var s=e.data().like;s.splice(s.indexOf(a),1),document.getElementById("heart-2").style.transition="0.6s",p.collection("posts").doc(t).set({timestamp:e.data().timestamp,Caption:e.data().Caption,image:e.data().image,userName:e.data().userName,like:s,comments:e.data().comments})}))},class:"fa fa-heart"}):Object(O.jsx)("i",{id:"heart-1",onClick:function(){p.collection("posts").doc(t).get().then((function(e){var s=e.data().like;s.push(a),document.getElementById("heart-1").style.transition="0.6s",p.collection("posts").doc(t).set({timestamp:e.data().timestamp,Caption:e.data().Caption,image:e.data().image,userName:e.data().userName,like:s,comments:e.data().comments})}))},class:"fa fa-heart-o"}),Object(O.jsx)("i",{id:"heart-1",onClick:function(){return S(!0)},class:"fa fa-comment-o"}),n.length>0?Object(O.jsxs)("h4",{onClick:function(){return y(!0)},className:"post_text",children:["Liked by ",Object(O.jsx)("strong",{children:n[0]}),n.length>1?Object(O.jsxs)(O.Fragment,{children:[" and ",Object(O.jsxs)("strong",{children:[n.length-1," other",n.length-1===1?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(O.Fragment,{children:"s"})]})]}):Object(O.jsx)(O.Fragment,{})]}):Object(O.jsx)(O.Fragment,{}),d?Object(O.jsxs)("p",{onClick:function(){return S(!0)},className:"comments-see",children:["View all ",d.length," comments"]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)("h4",{className:"post_text",children:[Object(O.jsx)("strong",{children:i})," ",l]}),Object(O.jsxs)("div",{className:"comment",children:[Object(O.jsx)("input",{type:"text",className:"in-put",placeHolder:"Add a comment...",onChange:function(e){return P(e.target.value)}}),I?Object(O.jsx)("div",{onClick:function(){p.collection("posts").doc(t).get().then((function(e){var s=e.data().comments;s.push({commenter:a,text:I}),p.collection("posts").doc(t).set({timestamp:e.data().timestamp,Caption:e.data().Caption,image:e.data().image,userName:e.data().userName,like:e.data().like,comments:s})}))},className:"btn",children:"Post"}):Object(O.jsx)("div",{className:"btn-2",children:"Post"})]})]})},N=(a(202),a(233)),y=a(234),C=function(e){var t=e.userName,a=Object(s.useState)(""),c=Object(r.a)(a,2),n=c[0],i=c[1],o=Object(s.useState)(""),l=Object(r.a)(o,2),d=l[0],u=l[1],b=Object(s.useState)(""),h=Object(r.a)(b,2),x=h[0],g=h[1];return Object(O.jsx)("div",{className:"file_upload",children:Object(O.jsxs)("center",{children:[Object(O.jsx)("progress",{className:"progress",value:d,max:"100"}),Object(O.jsx)("br",{}),Object(O.jsx)(y.a,{type:"text",className:"input",placeholder:"inter a caption",value:x,onChange:function(e){return g(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&i(e.target.files[0])}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(N.a,{onClick:function(){m.ref("images/".concat(n.name)).put(n).on("state_changed",(function(e){var t=100*Math.round(e.bytesTransferred/e.totalBytes);u(t)}),(function(e){alert(e),console.log(e)}),(function(){m.ref("images").child("".concat(n.name)).getDownloadURL().then((function(e){p.collection("posts").add({timestamp:j.a.database.ServerValue.TIMESTAMP,Caption:x,image:e,userName:t,like:[],comments:[]}),g(""),i(null),u(0)}))}))},children:"upload"})]})})};a(203);function _(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var w=Object(b.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var S=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(s.useState)([]),l=Object(r.a)(i,2),j=l[0],d=l[1],m=Object(s.useState)(!1),b=Object(r.a)(m,2),x=b[0],g=b[1],f=Object(s.useState)(!1),S=Object(r.a)(f,2),k=S[0],F=S[1],I=Object(s.useState)(!1),P=Object(r.a)(I,2),A=P[0],E=P[1],z=Object(s.useState)(""),L=Object(r.a)(z,2),B=L[0],G=L[1],T=Object(s.useState)(""),M=Object(r.a)(T,2),U=M[0],W=M[1],D=Object(s.useState)(""),J=Object(r.a)(D,2),V=J[0],Y=J[1],H=Object(s.useState)(null),K=Object(r.a)(H,2),Q=K[0],R=K[1],q=Object(s.useState)([]),X=Object(r.a)(q,2),Z=X[0],$=X[1],ee=w(),te=c.a.useState(_),ae=Object(r.a)(te,1)[0];return Object(s.useEffect)((function(){p.collection("posts").onSnapshot((function(e){d(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),j),Object(s.useEffect)((function(){p.collection("users").onSnapshot((function(e){$(e.docs.map((function(e){return{id:e.id,users:e.data()}})))}))}),[]),Object(s.useEffect)((function(){var e=u.onAuthStateChanged((function(e){if(e){if(R(e),!e.displayName)return e.updateProfile({displayName:B});console.log(e.displayName)}else R(null)}));return function(){e()}}),[Q,B]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(h.a,{open:a,onClose:function(){return n(!1)},children:Object(O.jsx)("div",{style:ae,className:ee.paper,children:Object(O.jsx)("center",{children:Object(O.jsxs)("div",{className:"first_paper",children:[Object(O.jsx)(N.a,{type:"submit",onClick:function(){return E(!0)},className:"sign_up",children:"post"}),Object(O.jsx)(N.a,{type:"submit",onClick:function(){u.signOut(),n(!1)},className:"sign_up",children:"LOG OUT"})]})})})}),Object(O.jsx)(h.a,{open:A,onClose:function(){return E(!1)},children:Object(O.jsx)("div",{style:ae,className:ee.paper,children:Q?Object(O.jsx)(C,{userName:Q.displayName}):Object(O.jsx)("h3",{children:"you need to login first"})})}),Object(O.jsx)(h.a,{open:x,onClose:function(){return g(!1)},children:Object(O.jsx)("div",{style:ae,className:ee.paper,children:Object(O.jsx)("center",{children:Object(O.jsxs)("div",{className:"app_signup",children:[Object(O.jsx)("center",{children:Object(O.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram_logo",className:"form_image"})}),Object(O.jsx)("br",{}),Object(O.jsx)(y.a,{type:"text",placeholder:"username",value:B,onChange:function(e){return G(e.target.value)}}),Object(O.jsx)(y.a,{type:"email",placeholder:"email",value:V,onChange:function(e){return Y(e.target.value)}}),Object(O.jsx)(y.a,{type:"password",placeholder:"password",value:U,onChange:function(e){return W(e.target.value)}}),Object(O.jsx)(N.a,{type:"submit",onClick:function(e){return g(!1),void u.createUserWithEmailAndPassword(V,U).then((function(e){p.collection("users").add({name:B,uid:e.uid}),alert("signup successful")})).catch((function(e){return alert(e)}))},children:"SIGN UP"})]})})})}),Object(O.jsx)(h.a,{open:k,onClose:function(){return F(!1)},children:Object(O.jsx)("div",{style:ae,className:ee.paper,children:Object(O.jsx)("center",{children:Object(O.jsxs)("div",{className:"app_signup",children:[Object(O.jsx)("center",{children:Object(O.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram_logo",className:"form_image"})}),Object(O.jsx)("br",{}),Object(O.jsx)(y.a,{type:"email",placeholder:"email",value:V,onChange:function(e){return Y(e.target.value)}}),Object(O.jsx)(y.a,{type:"password",placeholder:"password",value:U,onChange:function(e){return W(e.target.value)}}),Object(O.jsx)(N.a,{type:"submit",onClick:function(){return F(!1),void u.signInWithEmailAndPassword(V,U).then((function(e){return alert("logged in")})).catch((function(e){alert(e)}))},children:"LOG IN"})]})})})}),Object(O.jsxs)("div",{id:"header_app",className:"header_app",children:[Object(O.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram_logo",className:"header_image"}),Q?Object(O.jsxs)("span",{className:"sign_up_2",children:[" ",Object(O.jsx)("i",{id:"avatar-head",class:"fa fa-home"}),Object(O.jsx)("i",{id:"avatar-head",class:"fa fa-paper-plane-o"}),Object(O.jsx)("i",{id:"avatar-head",class:"fa fa-compass"}),Object(O.jsx)("i",{id:"avatar-head",class:"fa fa-heart-o"}),Object(O.jsx)(o.a,{onClick:function(){return n(!0)},alt:Q.displayName,src:"/static/images/avatar/1.jpg",className:"nav_avatar",style:{height:"25px",width:"25px",fontSize:"10px"}})]}):Object(O.jsx)("span",{className:"log_container",children:Object(O.jsxs)("span",{className:"sign_up_2",children:[Object(O.jsx)(N.a,{type:"submit",onClick:function(){return g(!0)},className:"sign_up",children:"SIGN UP"}),"\xa0\xa0",Object(O.jsx)(N.a,{type:"submit",onClick:function(){return F(!0)},className:"sign_up",children:"LOG IN"})]})})]}),Object(O.jsxs)("div",{id:"feed",children:[Object(O.jsx)("div",{className:"post_container",children:j.map((function(e){var t=e.id,a=e.post;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(v,{id:t,like:a.like,user:!!Q&&Q.displayName,comments:a.comments,userName:a.userName,image:a.image,Caption:a.Caption},t)})}))}),Q?Object(O.jsxs)("div",{className:"side",children:[Object(O.jsx)("b",{children:"Suggestions For You"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Z.map((function(e){var t=e.users;return Object(O.jsx)("div",{children:t.name===Q.displayName?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)("div",{className:"suggestion",children:[Object(O.jsx)(o.a,{alt:t.name,style:{height:"35px",width:"35px",fontSize:"18px"},src:"/static/images/avatar/1.jpg",className:"post_avatar"}),Object(O.jsx)("h5",{children:t.name})]})})}))]}):Object(O.jsx)(O.Fragment,{})]})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,237)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root")),k()}},[[209,1,2]]]);
//# sourceMappingURL=main.ee88defd.chunk.js.map